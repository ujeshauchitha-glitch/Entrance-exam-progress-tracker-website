<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JEE/BITSAT Syllabus Tracker</title>
    <style>
        /* color scheme - took forever to get these colors right */
        :root {
            --navy: #1e40af;
            --navy-light: #3b82f6;
            --maroon: #be123c;
            --maroon-light: #e11d48;
            --dark-bg: #0f172a;
            --dark-card: #1e293b;
            --text-main: #f1f5f9;
            --text-secondary: #cbd5e1;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: var(--text-main);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: linear-gradient(135deg, #1e3a8a, #9f1239);
            border-radius: 12px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--navy-light);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            color: var(--text-secondary);
        }

        /* exam tabs at the top */
        .exam-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .exam-tab {
            padding: 12px 24px;
            background: #1a2438;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .exam-tab.active {
            background: linear-gradient(135deg, var(--maroon), var(--maroon-light));
            border-color: var(--maroon-light);
        }

        .exam-tab:hover:not(.active) {
            background: var(--dark-card);
            transform: translateY(-2px);
        }

        /* dashboard cards */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: linear-gradient(145deg, var(--dark-card), #1a2438);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
            border: 1px solid #334155;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
        }

        .card h3 {
            margin-bottom: 15px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* progress bars */
        .progress-bar {
            height: 12px;
            background-color: #334155;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--navy-light), var(--maroon-light));
            transition: width 0.5s ease;
        }

        /* stats grid inside cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .stat-item {
            text-align: center;
            padding: 10px;
            background: rgba(30, 64, 175, 0.1);
            border-radius: 8px;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--navy-light);
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* control panel filters */
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--dark-card);
            border-radius: 12px;
            border: 1px solid #334155;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .control-group label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        input, select {
            padding: 10px;
            background: #1a2438;
            border: 1px solid #334155;
            border-radius: 8px;
            color: var(--text-main);
            font-size: 0.95rem;
            transition: border-color 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--navy-light);
        }

        /* subject panels - collapsible sections */
        .subject-panel {
            margin-bottom: 20px;
            background: var(--dark-card);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid #334155;
        }

        .subject-header {
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s;
            background: linear-gradient(135deg, #1a2438, var(--dark-card));
        }

        .subject-header:hover {
            background: linear-gradient(135deg, var(--dark-card), #1a2438);
        }

        .subject-header h2 {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .subject-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .subject-content.active {
            max-height: 5000px;  /* big enough number */
        }

        /* table styling */
        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background: #1a2438;
            position: sticky;
            top: 0;
        }

        th {
            padding: 12px;
            text-align: left;
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.9rem;
            border-bottom: 2px solid #334155;
        }

        td {
            padding: 12px;
            border-bottom: 1px solid #334155;
        }

        tr:hover {
            background: rgba(59, 130, 246, 0.05);
        }

        /* completion status dropdowns */
        select.completion-completed {
            background: var(--success);
            color: white;
            font-weight: 600;
        }

        select.completion-in-progress {
            background: var(--warning);
            color: white;
            font-weight: 600;
        }

        select.completion-not-started {
            background: var(--danger);
            color: white;
            font-weight: 600;
        }

        /* priority dropdowns */
        select.priority-high {
            background: var(--maroon);
            color: white;
            font-weight: 600;
        }

        select.priority-medium {
            background: var(--warning);
            color: white;
            font-weight: 600;
        }

        select.priority-low {
            background: var(--success);
            color: white;
            font-weight: 600;
        }

        /* level dropdowns */
        select.level-foundation {
            background: #6366f1;
            color: white;
        }

        select.level-practice {
            background: #8b5cf6;
            color: white;
        }

        select.level-mastery {
            background: #10b981;
            color: white;
        }

        /* exam indicators (JEE/BITSAT badges) */
        .exam-tracker {
            display: flex;
            gap: 5px;
        }

        .exam-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #334155;
        }

        .exam-indicator.active {
            background: var(--success);
        }

        .exam-indicator.jee-mains {
            background: var(--navy-light);
        }

        .exam-indicator.jee-advanced {
            background: var(--maroon-light);
        }

        /* notes textarea */
        textarea.notes {
            width: 100%;
            min-height: 40px;
            padding: 8px;
            background: #1a2438;
            border: 1px solid #334155;
            border-radius: 6px;
            color: var(--text-main);
            resize: vertical;
            font-family: inherit;
        }

        /* action buttons */
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--navy), var(--navy-light));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--maroon), var(--maroon-light));
            color: white;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(190, 18, 60, 0.3);
        }

        /* empty state when filters show nothing */
        .empty-state {
            padding: 60px;
            text-align: center;
            color: var(--text-secondary);
        }

        .empty-state-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        /* responsive design */
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.8rem;
            }

            table {
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>JEE/BITSAT Syllabus Tracker</h1>
            <p class="subtitle">Track your preparation progress across Physics, Chemistry & Mathematics</p>
        </header>

        <!-- Exam filter tabs -->
        <div class="exam-tabs">
            <div class="exam-tab active" data-exam="all">
                <span>üìö</span>
                All Exams
            </div>
            <div class="exam-tab" data-exam="jee-mains">
                <span>üìù</span>
                JEE Main
            </div>
            <div class="exam-tab" data-exam="jee-advanced">
                <span>üöÄ</span>
                JEE Advanced
            </div>
            <div class="exam-tab" data-exam="bitsat">
                <span>üî¨</span>
                BITSAT
            </div>
        </div>

        <!-- Dashboard overview cards -->
        <section class="dashboard">
            <div class="card">
                <h3><span>üìà</span> Overall Progress</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="overall-progress" style="width: 0%"></div>
                </div>
                <p id="overall-percentage">0%</p>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="completed-count">0</div>
                        <div class="stat-label">Done</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="inprogress-count">0</div>
                        <div class="stat-label">Ongoing</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="notstarted-count">0</div>
                        <div class="stat-label">Not Started</div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3><span>‚ö†Ô∏è</span> High Priority Left</h3>
                <p id="high-priority-count">0 chapters</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="high-priority-progress" style="width: 0%; background: linear-gradient(90deg, var(--maroon-light), #f43f5e);"></div>
                </div>
            </div>
            
            <div class="card">
                <h3><span>üîÑ</span> Need Revision</h3>
                <p id="revision-count">0 chapters</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="revision-progress" style="width: 0%; background: linear-gradient(90deg, var(--warning), #fbbf24);"></div>
                </div>
            </div>
            
            <div class="card">
                <h3><span>üìâ</span> Low Confidence</h3>
                <p id="low-confidence-count">0 chapters</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="confidence-progress" style="width: 0%; background: linear-gradient(90deg, #8b5cf6, #a78bfa);"></div>
                </div>
            </div>
        </section>

        <!-- Filters and search -->
        <section class="controls">
            <div class="control-group">
                <label for="search">Search</label>
                <input type="text" id="search" placeholder="Search chapters...">
            </div>
            <div class="control-group">
                <label for="subject-filter">Subject</label>
                <select id="subject-filter">
                    <option value="all">All Subjects</option>
                    <option value="Physics">Physics</option>
                    <option value="Chemistry">Chemistry</option>
                    <option value="Mathematics">Mathematics</option>
                </select>
            </div>
            <div class="control-group">
                <label for="completion-filter">Status</label>
                <select id="completion-filter">
                    <option value="all">All</option>
                    <option value="Not Started">Not Started</option>
                    <option value="In Progress">In Progress</option>
                    <option value="Completed">Completed</option>
                </select>
            </div>
            <div class="control-group">
                <label for="sort-by">Sort By</label>
                <select id="sort-by">
                    <option value="default">Default</option>
                    <option value="confidence">Confidence</option>
                    <option value="priority">Priority</option>
                    <option value="completion">Status</option>
                </select>
            </div>
        </section>

        <!-- Subject sections with tables -->
        <section class="subject-panels">
            <div class="subject-panel">
                <div class="subject-header" onclick="toggleSubject('physics')">
                    <h2><span>‚öõÔ∏è</span> Physics</h2>
                    <span id="physics-arrow">‚ñº</span>
                </div>
                <div class="subject-content" id="physics-content">
                    <table>
                        <thead>
                            <tr>
                                <th>Chapter</th>
                                <th>Exams</th>
                                <th>Status</th>
                                <th>Priority</th>
                                <th>Confidence</th>
                                <th>Level</th>
                                <th>Memorize</th>
                                <th>Revise</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody id="physics-chapters">
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="subject-panel">
                <div class="subject-header" onclick="toggleSubject('chemistry')">
                    <h2><span>üß™</span> Chemistry</h2>
                    <span id="chemistry-arrow">‚ñº</span>
                </div>
                <div class="subject-content" id="chemistry-content">
                    <table>
                        <thead>
                            <tr>
                                <th>Chapter</th>
                                <th>Exams</th>
                                <th>Status</th>
                                <th>Priority</th>
                                <th>Confidence</th>
                                <th>Level</th>
                                <th>Memorize</th>
                                <th>Revise</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody id="chemistry-chapters">
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="subject-panel">
                <div class="subject-header" onclick="toggleSubject('mathematics')">
                    <h2><span>‚à´</span> Mathematics</h2>
                    <span id="mathematics-arrow">‚ñº</span>
                </div>
                <div class="subject-content" id="mathematics-content">
                    <table>
                        <thead>
                            <tr>
                                <th>Chapter</th>
                                <th>Exams</th>
                                <th>Status</th>
                                <th>Priority</th>
                                <th>Confidence</th>
                                <th>Level</th>
                                <th>Memorize</th>
                                <th>Revise</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody id="mathematics-chapters">
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <div class="action-buttons">
            <button class="btn btn-primary" onclick="saveData()">
                <span>üíæ</span> Save Progress
            </button>
            <button class="btn btn-secondary" onclick="resetData()">
                <span>üîÑ</span> Reset Data
            </button>
        </div>
    </div>

    <script>
        // Priority assignments based on JEE importance
        // Spent a lot of time researching which chapters are most asked
        const chapterPriority = {
            "Physics": {
                "High": [
                    "Kinematics", "NLM (Newton's Laws of Motion)", "Work-Power-Energy", 
                    "Rotational Motion", "Electrostatics", "Current Electricity & Capacitance", 
                    "Magnetism", "EMI (Electromagnetic Induction)", "Optics", "Modern & Nuclear Physics",
                    "Geometrical Optics", "Wave Optics", "Centre of Mass", "Momentum & Collision",
                    "Fluids", "Heat & Thermodynamics", "Waves", "SHM (Simple Harmonic Motion)", "Gravitation"
                ],
                "Medium": [
                    "Circular Motion", "EM Waves", "Alternating Current"
                ],
                "Low": [
                    "Friction", "Elasticity", "Calorimetry", "Thermal Expansion", 
                    "Heat Transfer", "Error", "Damped & Forced Oscillation"
                ]
            },
            "Chemistry": {
                "High": [
                    "Chemical Bonding", "Thermodynamics & Thermochemistry", "Coordination Compounds",
                    "Electrochemistry", "Chemical & Ionic Equilibrium", "Solutions & Colligative Properties",
                    "Redox Reactions", "General Organic Chemistry", "Isomerism", "Organic Reactions & Mechanisms",
                    "Periodic Table", "Aromatic Compounds", "Alcohols & Ethers", "Aldehydes & Ketones",
                    "Amines", "Carboxylic Acids & Their Derivatives", "Alkanes & Alkenes", "Alkyl Halides"
                ],
                "Medium": [
                    "Mole Concept", "Atomic Structure", "Chemical Kinetics", "S-Block Elements",
                    "P-Block Elements", "D & F Block", "Solid State & Surface Chemistry",
                    "Polymers", "Biomolecules"
                ],
                "Low": [
                    "Metallurgy", "Qualitative Analysis", "Environmental Chemistry", "Practical Organic"
                ]
            },
            "Mathematics": {
                "High": [
                    "Functions & Relations", "Limits & Continuity", "Differentiability",
                    "Application of Derivatives", "Indefinite Integration", "Definite Integration",
                    "Area Under the Curve", "Differential Equations", "Straight Lines", "Circles",
                    "Conic Sections", "Vectors", "3D Geometry", "Complex Numbers", "Quadratic Equations",
                    "Permutations & Combinations", "Probability", "Binomial Theorem", "Sequences & Series",
                    "Matrices & Determinants"
                ],
                "Medium": [
                    "Sets & Relations", "Trigonometric Equations", "Inverse Trigonometry",
                    "Heights & Distances", "Statistics", "Mean Value Theorems"
                ],
                "Low": [
                    "Mathematical Reasoning", "Linear Programming"
                ]
            }
        };

        // Main data structure - this holds everything
        // Using localStorage to save progress
        let chaptersData = {
            "Physics": [],
            "Chemistry": [],
            "Mathematics": []
        };

        // Initialize data on page load
        function initData() {
            // load from localStorage if exists
            const saved = localStorage.getItem('syllabusData');
            if (saved) {
                chaptersData = JSON.parse(saved);
            } else {
                // first time user - set up default data
                setupDefaultData();
            }
        }

        function setupDefaultData() {
            // Physics chapters
            const physicsChapters = [
                { name: "Kinematics", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "NLM (Newton's Laws of Motion)", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Work-Power-Energy", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Circular Motion", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Centre of Mass", exams: ["JEE Mains", "JEE Advanced"] },
                { name: "Momentum & Collision", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Rotational Motion", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Gravitation", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Friction", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Elasticity", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Fluids", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "SHM (Simple Harmonic Motion)", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Waves", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Heat & Thermodynamics", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Calorimetry", exams: ["JEE Mains", "BITSAT"] },
                { name: "Thermal Expansion", exams: ["JEE Mains", "BITSAT"] },
                { name: "Heat Transfer", exams: ["JEE Mains", "BITSAT"] },
                { name: "Electrostatics", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Current Electricity & Capacitance", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Magnetism", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "EMI (Electromagnetic Induction)", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "EM Waves", exams: ["JEE Mains", "BITSAT"] },
                { name: "Alternating Current", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Geometrical Optics", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Wave Optics", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Modern & Nuclear Physics", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Error", exams: ["JEE Mains"] },
                { name: "Damped & Forced Oscillation", exams: ["JEE Advanced"] }
            ];

            // Chemistry chapters
            const chemChapters = [
                { name: "Mole Concept", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Atomic Structure", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Periodic Table", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Chemical Bonding", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Solid State & Surface Chemistry", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Solutions & Colligative Properties", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Chemical & Ionic Equilibrium", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Redox Reactions", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Electrochemistry", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Chemical Kinetics", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Thermodynamics & Thermochemistry", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "S-Block Elements", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "P-Block Elements", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "D & F Block", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Coordination Compounds", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Metallurgy", exams: ["JEE Mains", "BITSAT"] },
                { name: "Qualitative Analysis", exams: ["JEE Mains", "BITSAT"] },
                { name: "Environmental Chemistry", exams: ["JEE Mains", "BITSAT"] },
                { name: "General Organic Chemistry", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Isomerism", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Organic Reactions & Mechanisms", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Alkanes & Alkenes", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Aromatic Compounds", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Alkyl Halides", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Alcohols & Ethers", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Aldehydes & Ketones", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Carboxylic Acids & Their Derivatives", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Amines", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Biomolecules", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Polymers", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Practical Organic", exams: ["JEE Mains", "BITSAT"] }
            ];

            // Math chapters
            const mathChapters = [
                { name: "Sets & Relations", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Functions & Relations", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Quadratic Equations", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Sequences & Series", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Complex Numbers", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Permutations & Combinations", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Binomial Theorem", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Probability", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Matrices & Determinants", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Trigonometric Equations", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Inverse Trigonometry", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Heights & Distances", exams: ["JEE Mains", "BITSAT"] },
                { name: "Limits & Continuity", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Differentiability", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Application of Derivatives", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Mean Value Theorems", exams: ["JEE Advanced"] },
                { name: "Indefinite Integration", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Definite Integration", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Area Under the Curve", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Differential Equations", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Straight Lines", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Circles", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Conic Sections", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Vectors", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "3D Geometry", exams: ["JEE Mains", "JEE Advanced", "BITSAT"] },
                { name: "Statistics", exams: ["JEE Mains", "BITSAT"] },
                { name: "Mathematical Reasoning", exams: ["JEE Mains"] },
                { name: "Linear Programming", exams: ["JEE Mains"] }
            ];

            // Process each subject
            ["Physics", "Chemistry", "Mathematics"].forEach((subject, idx) => {
                let chapters = idx === 0 ? physicsChapters : idx === 1 ? chemChapters : mathChapters;
                
                chapters.forEach(ch => {
                    // figure out priority
                    let priority = "Low";
                    if (chapterPriority[subject].High.includes(ch.name)) priority = "High";
                    else if (chapterPriority[subject].Medium.includes(ch.name)) priority = "Medium";
                    
                    chaptersData[subject].push({
                        chapter_name: ch.name,
                        exams: ch.exams,
                        completion: "Not Started",
                        priority: priority,
                        confidence: 3,  // default middle value
                        level: "Foundation",
                        memorization_needed: false,
                        revision_needed: false,
                        notes: ""
                    });
                });
            });
            
            saveData();
        }

        // Save to localStorage
        function saveData() {
            localStorage.setItem('syllabusData', JSON.stringify(chaptersData));
            alert('Progress saved!');
        }

        // Reset everything
        function resetData() {
            if (confirm('Are you sure? This will delete all your progress.')) {
                localStorage.removeItem('syllabusData');
                location.reload();
            }
        }

        // Toggle subject sections
        function toggleSubject(subject) {
            const content = document.getElementById(`${subject}-content`);
            const arrow = document.getElementById(`${subject}-arrow`);
            
            if (content.classList.contains('active')) {
                content.classList.remove('active');
                arrow.textContent = '‚ñº';
            } else {
                content.classList.add('active');
                arrow.textContent = '‚ñ≤';
            }
        }

        // Update dashboard stats
        function updateDashboard() {
            let total = 0, completed = 0, inProgress = 0, notStarted = 0;
            let highPriorityNotDone = 0, needRevision = 0, lowConfidence = 0;
            
            // count everything
            for (let subject in chaptersData) {
                chaptersData[subject].forEach(ch => {
                    total++;
                    if (ch.completion === "Completed") completed++;
                    else if (ch.completion === "In Progress") inProgress++;
                    else notStarted++;
                    
                    if (ch.priority === "High" && ch.completion !== "Completed") highPriorityNotDone++;
                    if (ch.revision_needed) needRevision++;
                    if (ch.confidence <= 2) lowConfidence++;
                });
            }
            
            // update progress bar
            const overallPercent = total > 0 ? (completed / total * 100) : 0;
            document.getElementById('overall-progress').style.width = overallPercent + '%';
            document.getElementById('overall-percentage').textContent = overallPercent.toFixed(1) + '%';
            
            // update counts
            document.getElementById('completed-count').textContent = completed;
            document.getElementById('inprogress-count').textContent = inProgress;
            document.getElementById('notstarted-count').textContent = notStarted;
            
            document.getElementById('high-priority-count').textContent = highPriorityNotDone + ' chapters';
            document.getElementById('revision-count').textContent = needRevision + ' chapters';
            document.getElementById('low-confidence-count').textContent = lowConfidence + ' chapters';
            
            // progress bars for cards
            if (total > 0) {
                document.getElementById('high-priority-progress').style.width = (highPriorityNotDone / total * 100) + '%';
                document.getElementById('revision-progress').style.width = (needRevision / total * 100) + '%';
                document.getElementById('confidence-progress').style.width = (lowConfidence / total * 100) + '%';
            }
        }

        // Render chapters in tables
        function renderChapters(subject) {
            const tbody = document.getElementById(`${subject.toLowerCase()}-chapters`);
            tbody.innerHTML = '';
            
            // get active exam filter
            const activeExam = document.querySelector('.exam-tab.active').dataset.exam;
            
            // get other filters
            const searchTerm = document.getElementById('search').value.toLowerCase();
            const subjectFilter = document.getElementById('subject-filter').value;
            const completionFilter = document.getElementById('completion-filter').value;
            const sortBy = document.getElementById('sort-by').value;
            
            // filter chapters
            let filtered = chaptersData[subject].filter(ch => {
                // exam filter
                if (activeExam !== 'all') {
                    const examMap = {'jee-mains': 'JEE Mains', 'jee-advanced': 'JEE Advanced', 'bitsat': 'BITSAT'};
                    if (!ch.exams.includes(examMap[activeExam])) return false;
                }
                
                // search filter
                if (searchTerm && !ch.chapter_name.toLowerCase().includes(searchTerm)) return false;
                
                // subject filter (not needed here since we're already in that subject, but kept for consistency)
                if (subjectFilter !== 'all' && subjectFilter !== subject) return false;
                
                // completion filter
                if (completionFilter !== 'all' && ch.completion !== completionFilter) return false;
                
                return true;
            });
            
            // sort
            if (sortBy === 'confidence') {
                filtered.sort((a, b) => a.confidence - b.confidence);
            } else if (sortBy === 'priority') {
                const priorityOrder = {'High': 0, 'Medium': 1, 'Low': 2};
                filtered.sort((a, b) => priorityOrder[a.priority] - priorityOrder[b.priority]);
            } else if (sortBy === 'completion') {
                const statusOrder = {'Not Started': 0, 'In Progress': 1, 'Completed': 2};
                filtered.sort((a, b) => statusOrder[a.completion] - statusOrder[b.completion]);
            }
            
            // render rows
            if (filtered.length === 0) {
                const row = document.createElement('tr');
                const cell = document.createElement('td');
                cell.colSpan = 9;
                cell.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üîç</div><div>No chapters match filters</div></div>';
                row.appendChild(cell);
                tbody.appendChild(row);
                return;
            }
            
            filtered.forEach((ch, i) => {
                const origIdx = chaptersData[subject].findIndex(c => c.chapter_name === ch.chapter_name);
                const row = document.createElement('tr');
                
                // chapter name
                const nameCell = document.createElement('td');
                nameCell.textContent = ch.chapter_name;
                nameCell.style.fontWeight = '500';
                row.appendChild(nameCell);
                
                // exam indicators
                const examCell = document.createElement('td');
                const examTracker = document.createElement('div');
                examTracker.className = 'exam-tracker';
                
                ["JEE Mains", "JEE Advanced", "BITSAT"].forEach(exam => {
                    const dot = document.createElement('div');
                    let classes = 'exam-indicator';
                    if (ch.exams.includes(exam)) {
                        classes += ' active';
                        if (exam === "JEE Mains") classes += ' jee-mains';
                        else if (exam === "JEE Advanced") classes += ' jee-advanced';
                    }
                    dot.className = classes;
                    dot.title = exam;
                    examTracker.appendChild(dot);
                });
                
                examCell.appendChild(examTracker);
                row.appendChild(examCell);
                
                // completion dropdown
                const completionCell = document.createElement('td');
                const completionSelect = document.createElement('select');
                ["Not Started", "In Progress", "Completed"].forEach(status => {
                    const opt = document.createElement('option');
                    opt.value = status;
                    opt.textContent = status;
                    if (status === ch.completion) opt.selected = true;
                    completionSelect.appendChild(opt);
                });
                completionSelect.className = `completion-${ch.completion.toLowerCase().replace(' ', '-')}`;
                completionSelect.onchange = function(e) {
                    chaptersData[subject][origIdx].completion = e.target.value;
                    e.target.className = `completion-${e.target.value.toLowerCase().replace(' ', '-')}`;
                    updateDashboard();
                };
                completionCell.appendChild(completionSelect);
                row.appendChild(completionCell);
                
                // priority dropdown
                const priorityCell = document.createElement('td');
                const prioritySelect = document.createElement('select');
                ["High", "Medium", "Low"].forEach(p => {
                    const opt = document.createElement('option');
                    opt.value = p;
                    opt.textContent = p;
                    if (p === ch.priority) opt.selected = true;
                    prioritySelect.appendChild(opt);
                });
                prioritySelect.className = `priority-${ch.priority.toLowerCase()}`;
                prioritySelect.onchange = function(e) {
                    chaptersData[subject][origIdx].priority = e.target.value;
                    e.target.className = `priority-${e.target.value.toLowerCase()}`;
                    updateDashboard();
                };
                priorityCell.appendChild(prioritySelect);
                row.appendChild(priorityCell);
                
                // confidence dropdown (1-5)
                const confCell = document.createElement('td');
                const confSelect = document.createElement('select');
                for (let i = 1; i <= 5; i++) {
                    const opt = document.createElement('option');
                    opt.value = i;
                    opt.textContent = i;
                    if (i === ch.confidence) opt.selected = true;
                    confSelect.appendChild(opt);
                }
                confSelect.onchange = function(e) {
                    chaptersData[subject][origIdx].confidence = parseInt(e.target.value);
                    updateDashboard();
                };
                confCell.appendChild(confSelect);
                row.appendChild(confCell);
                
                // level dropdown
                const levelCell = document.createElement('td');
                const levelSelect = document.createElement('select');
                ["Foundation", "Practice", "Mastery"].forEach(l => {
                    const opt = document.createElement('option');
                    opt.value = l;
                    opt.textContent = l;
                    if (l === ch.level) opt.selected = true;
                    levelSelect.appendChild(opt);
                });
                levelSelect.className = `level-${ch.level.toLowerCase()}`;
                levelSelect.onchange = function(e) {
                    chaptersData[subject][origIdx].level = e.target.value;
                    e.target.className = `level-${e.target.value.toLowerCase()}`;
                };
                levelCell.appendChild(levelSelect);
                row.appendChild(levelCell);
                
                // memorization checkbox
                const memCell = document.createElement('td');
                const memCheck = document.createElement('input');
                memCheck.type = 'checkbox';
                memCheck.checked = ch.memorization_needed;
                memCheck.onchange = function(e) {
                    chaptersData[subject][origIdx].memorization_needed = e.target.checked;
                };
                memCell.appendChild(memCheck);
                row.appendChild(memCell);
                
                // revision checkbox
                const revCell = document.createElement('td');
                const revCheck = document.createElement('input');
                revCheck.type = 'checkbox';
                revCheck.checked = ch.revision_needed;
                revCheck.onchange = function(e) {
                    chaptersData[subject][origIdx].revision_needed = e.target.checked;
                    updateDashboard();
                };
                revCell.appendChild(revCheck);
                row.appendChild(revCell);
                
                // notes textarea
                const notesCell = document.createElement('td');
                const notesArea = document.createElement('textarea');
                notesArea.className = 'notes';
                notesArea.value = ch.notes;
                notesArea.placeholder = 'Notes...';
                notesArea.onchange = function(e) {
                    chaptersData[subject][origIdx].notes = e.target.value;
                };
                notesCell.appendChild(notesArea);
                row.appendChild(notesCell);
                
                tbody.appendChild(row);
            });
        }

        // Apply all filters
        function applyFilters() {
            for (let subject in chaptersData) {
                renderChapters(subject);
            }
            updateDashboard();
        }

        // Initialize app
        function init() {
            initData();
            
            // render all subjects
            for (let subject in chaptersData) {
                renderChapters(subject);
            }
            
            updateDashboard();
            
            // attach filter listeners
            document.getElementById('search').addEventListener('input', applyFilters);
            document.getElementById('subject-filter').addEventListener('change', applyFilters);
            document.getElementById('completion-filter').addEventListener('change', applyFilters);
            document.getElementById('sort-by').addEventListener('change', applyFilters);
            
            // exam tab clicks
            document.querySelectorAll('.exam-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.exam-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    applyFilters();
                });
            });
            
            // open physics by default
            toggleSubject('physics');
        }

        // run when page loads
        window.onload = init;
    </script>
</body>
</html>
